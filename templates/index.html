<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--    Boostrap CSS-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
  integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  <title>Noisy 5</title>
</head>
<body>
    <div class="container">
        <!-- Hero -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1>Meet Noisy 5 with the number recognition neural network</h1>
                <img src="{{url_for('static', filename='images/hero.jpeg')}}" class="img-fluid rounded mx-auto d-block"  alt="hero image">
            </div>
        </div>
    
        <!-- MenÃ¼/ nav-->
        <ul class="nav nav-tabs nav-fill mb-4">
            <li class="nav-item"><a class="nav-link active" href="#recognition">Number recognition</a></li>
            <li class="nav-item"><a class="nav-link" href="#graph">Graph</a></li>
            <li class="nav-item"><a class="nav-link" href="#neaural-network">Neaural network</a></li>
            <li class="nav-item"><a class="nav-link" href="#feature-maps">Feature Maps</a></li>
        </ul>
        
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class ="text-center">Hello everyone, I'm Noisy 5! ðŸ¤–âœ¨</h5>
                        <p>
                        I am a Convolutional Neural Network (CNN) with a special ability to recognize handwritten numbers. It wasn't easy getting hereâ€”I had to learn tons of data to be accurate. Do you know the MNIST dataset? <a href="https://en.wikipedia.org/wiki/MNIST_database">Here's a link where you can check it out!</a> 
                        <br>
                        My name is Noisy because I trained on noisy dataâ€”so I can handle even the trickier numbers. These are the same numbers as in MNIST, just spiced up with small random black and white dots.
                        And why Noisy 5? Because I'm the fifth saved model, and my performance surpassed all previous versions! ðŸŽ‰
                        <br>
                        Would you like to test me? Draw a number for me, and let's see what I make of it! ðŸ˜ƒ</p>
                        </div>
                </div>
            </div>
        </div>
        
        <div class="row mb-4">
            <!-- Emoji -->
            <div class="col-12 col-xl-4 text-center mb-4 mb-xl-0">
                <div class="card">
                    <div class="card-body">
                        <h5>How sure am I?</h5>
                        <div class="emoji-display">
                            <p id="confidence-emoji">ðŸ˜Š</p> 
                        </div>
                        <p id="confidence-message">I'm waiting for your number....</p>
                    </div>
                </div>
            </div>
    
            <!-- Canvas -->
            <div id="recognition" class="col-12 col-xl-4 mb-4 mb-xl-0">
                <div class="card">
                    <div class="card-body text-center">
                        <h5>Draw a number here 0-9</h5>
                        <canvas id="canvas">
                            <!-- draw -->
                        </canvas>
                        <div class="mt-2">
                            <button id="predict" class="btn btn-primary me-2" onclick="sendImage()">Recognition</button>
                            <button id="clear" class="btn btn-secondary" onclick="clear_canvas()">Clear</button>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Processed Image -->
            <div class="col-12 col-xl-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5>This is how I see the picture</h5>
                        <div id="greyscale-img">
                                    <!-- greyscale image -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Result and explanation -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5>Result</h5>
                        <p>Recognized number: <span id="predicted-number">-</span></p>
                        <p>Self-assurance: <span id="confidence">-</span>%</p>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <h5>Explanation</h5>
                        <p>
                            You know, I'm not always completely sure about my answerâ€¦ ðŸ¤” Sometimes I detect multiple numbers, but I always tell you the one with the highest probability.
                            <br>
                            Of course, there are times when I'm confidently wrongâ€¦ ðŸ˜… Sometimes I'm absolutely certain that a number is a 7, when in reality it was actually a 9. This happens because my artificial intelligence works based on patterns, and if two numbers have a similar shape, I might make mistakes.
                            My training is already complete, but my creator plans to fine-tune my abilities with more data in the future!
                            <br>
                            That's why it's always important to critically evaluate the results! If you feel that I misinterpreted something, try drawing another version of the number, and let's see what I say about it! ðŸŽ¨
                        </p>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Probability graph -->
        <div id="graph" class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h5>Probabilities</h5>
                        <div id="visualization-img"></div>
                        <!-- graph -->
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Model information -->
        <div id = "neaural-network" class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body ">
                        <h5 class = text-center >What is a neural network?</h5>
                        <p>
                            A neural network is a computer system designed to mimic the way the human brain works. Imagine many small computing units (neurons) connected to each other, just like the nerve cells in our brains.
                            <br>
                            These networks 'learn' from examples â€“ they aren't explicitly programmed with instructions, but instead are shown lots of data, and the system gradually tunes itself to recognize patterns. The more data it learns from, the more accurate it generally becomes.
                            <br>
                            Neural networks are particularly good at tasks that involve pattern recognition, such as identifying images, interpreting speech, or reading handwriting â€“ just like the task I was trained for!</p>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- CNN image -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h5>The neural network model</h5>
                        <div id="cnn-image">
                            <img src="{{url_for('static', filename='images/CNN_layer.png')}}" class="img-fluid rounded mx-auto d-block" alt="CNN modell">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model information -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class = text-center >This is how I work from the inside</h5>
                        If I've piqued your interest, here's more information about me!
                        <br>
                        What's really happening here? I'm based on a neural network, specifically a CNN (Convolutional Neural Network). This is important because this model type is the most effective at recognizing images.
                        <br>
                        How do I work? Instead of assigning a separate neuron to each pixel, I create small maps (feature maps) of the image.
                        <br>
                        <p>
                        </p>
                        <ol>
                            <li>First, I format the image to <strong>(28,28,1)</strong> â€“ This means: 28Ã—28 pixels and 1 color channel, because it's black and white. It's important to know that I don't see images like you do â€“ for me, each pixel is a numerical value that I can perform calculations with.</li>
                            
                            <li>In the first <strong>convolutional layer</strong> (yellow blocks), I create 32 different maps of the image <strong>(28,28,32)</strong>. Each map looks for different characteristics: lines, shapes, edges.</li>
                            
                            <li>Next comes the <strong>max pooling layer</strong> (red blocks), where I "compress" the information â€“ selecting the most important parts and creating a smaller image, while retaining the essential information.</li>
                            
                            <li>For even more reliable pattern recognition, I work with additional convolutional and max pooling layers, identifying increasingly complex features each time.</li>
                            
                            <li>Finally, the <strong>flatten layer</strong> (blue) transforms my two-dimensional maps into a one-dimensional data series.</li>
                            
                            <li>The <strong>fully connected layers</strong> (dark blue/purple) help connect the recognized patterns to the digits.</li>
                            
                            <li>The <strong>dropout layers</strong> helped during my training to prevent "memorization" â€“ they randomly turned off neurons, forcing me not to rely on just one or two features.</li>
                            
                            <li>My last layer consists of 10 neurons (0-9), whose outputs give the probabilities you see on the graph.</li>
                        </ol>
                        <br>
                    </p>
                </div>
            </div>
        </div>

        </div>
        <!-- Feature maps -->
        <div id="feature-maps" class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body ">
                        <h5 class= "text-center" >Feature Maps</h5>
                        <div id="visualization-featuremap">
                            <!-- feature maps -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Up -->
        <div class="row mb-4">
            <div class="col-12 text-end">
                <a href="#" class="btn btn-primary" id="back-to-top">â†‘ Back to top</a>
            </div>
        </div>
    </div>
<script src="./static/js/index.js"></script>
</body>
</html>